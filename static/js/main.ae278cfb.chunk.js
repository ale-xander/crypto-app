(this["webpackJsonpcrypto-app"]=this["webpackJsonpcrypto-app"]||[]).push([[0],{27:function(e,t,n){e.exports=n(40)},3:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y}));var r=n(6),a=n(15),o=n(17),i=n(4),c=n.n(i),l=n(7),u=n(8),s=n(9),f=n(10),m=n(11),v=n(0),p=n.n(v),d=n(5),b=n.n(d),g=n(12),E=n.n(g),h=p.a.createContext();e.fetch=n(37);var C=n(38);C.setApiKey("d455128ae090441e96c16dbd4db1660d3fd94ce1c5f47557d4f5b288e9b97b72");var y=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){console.log("component did mount"),i.fetchCoins(),i.fetchPrices(),i.fetchHistorical()},i.fetchCoins=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching coins"),e.next=3,C.coinList();case 3:t=e.sent.Data,i.setState({coinList:t});case 5:case"end":return e.stop()}}),e)}))),i.addCoin=function(e){var t=Object(o.a)(i.state.favorites);t.length<15&&(t.push(e),i.setState({favorites:t})),console.log("adding ".concat(e," coin"))},i.removeCoin=function(e){var t=Object(o.a)(i.state.favorites);console.log("removing ".concat(e," coin")),i.setState({favorites:b.a.pull(t,e)})},i.isInFavorites=function(e){return b.a.includes(i.state.favorites,e)},i.setPage=function(e){return i.setState({page:e})},i.confirmFavorites=function(){console.log("confirm fav");var e=i.state.favorites[0];i.setState({firstVisit:!1,page:"my coins",currentFavorite:e,prices:null,historical:null},(function(){i.fetchPrices(),i.fetchHistorical()})),localStorage.setItem("cryptoData",JSON.stringify({favorites:i.state.favorites,currentFavorite:e}))},i.setFilteredCoins=function(e){return i.setState({filteredCoins:e})},i.fetchPrices=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.state.firstVisit){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.prices();case 4:t=e.sent,console.log("prices"),console.log(t),t=t.filter((function(e){return Object.keys(e).length})),i.setState({prices:t});case 9:case"end":return e.stop()}}),e)}))),i.prices=Object(l.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=0;case 2:if(!(n<i.state.favorites.length)){e.next=16;break}return e.prev=3,e.next=6,C.priceFull(i.state.favorites[n],"USD");case 6:r=e.sent,t.push(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Fetch price error: ",e.t0);case 13:n++,e.next=2;break;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,null,[[3,10]])}))),i.setCurrentFavorite=function(e){i.setState({currentFavorite:e,historical:null},i.fetchHistorical),localStorage.setItem("cryptoData",JSON.stringify(Object(a.a)({},JSON.parse(localStorage.getItem("cryptoData")),{currentFavorite:e})))},i.historical=function(){for(var e=[],t=12;t>0;t--)e.push(C.priceHistorical(i.state.currentFavorite,["USD"],E()().subtract(Object(r.a)({},i.state.timeInterval,t)).toDate()));return console.log("monent",E()()),Promise.all(e)},i.fetchHistorical=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.state.firstVisit){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.historical();case 4:t=e.sent,console.log("10 units of historical data: ",t),n=[{name:i.state.currentFavorite,data:t.map((function(e,t){return[E()().subtract(Object(r.a)({},i.state.timeInterval,12-t)).valueOf(),e.USD]}))}],i.setState({historical:n});case 8:case"end":return e.stop()}}),e)}))),i.toggleChart=function(e){i.setState({timeInterval:e,historical:null},i.fetchHistorical)},i.state=Object(a.a)({page:"my coins",setPage:i.setPage},i.savedSettings(),{confirmFavorites:i.confirmFavorites,favorites:["BTC","ETH","BCH","LINK","EOS","OKB","LTC","ETC","XLM","XMR"],addCoin:i.addCoin,removeCoin:i.removeCoin,isInFavorites:i.isInFavorites,setFilteredCoins:i.setFilteredCoins,setCurrentFavorite:i.setCurrentFavorite,toggleChart:i.toggleChart,timeInterval:"months"}),i}return Object(s.a)(n,[{key:"savedSettings",value:function(){var e=JSON.parse(localStorage.getItem("cryptoData"));return e?{favorites:e.favorites,currentFavorite:e.currentFavorite}:{page:"coin selector",firstVisit:!0}}},{key:"render",value:function(){return p.a.createElement(h.Provider,{value:this.state},this.props.children)}}]),n}(p.a.Component)}).call(this,n(19))},32:function(e,t,n){},33:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(21),i=n.n(o),c=(n(32),n(8)),l=n(9),u=n(10),s=n(11),f=(n(33),n(1)),m=n(2);function v(){var e=Object(f.a)(["\npadding: 40px\n"]);return v=function(){return e},e}var p=m.b.div(v()),d=n(3);function b(){var e=Object(f.a)(["\n    display: none; \n    "]);return b=function(){return e},e}function g(){var e=Object(f.a)(["\n    text-shadow: 0px 0px 60px #03ff03;\n    "]);return g=function(){return e},e}function E(){var e=Object(f.a)(["\n    cursor: pointer; \n    ","\n    ","\n"]);return E=function(){return e},e}function h(){var e=Object(f.a)(["\n    font-size: 2em;\n"]);return h=function(){return e},e}function C(){var e=Object(f.a)(["\n    display:grid;\n    grid-template-columns: 100px auto 100px 100px;\n    margin-bottom: 40px;\n"]);return C=function(){return e},e}var y=m.b.div(C());var O=m.b.div(h());m.b.div(E(),(function(e){return e.active&&Object(m.a)(g())}),(function(e){return e.hidden&&Object(m.a)(b())}));function x(e){e.name}var j=function(){return a.a.createElement(y,null,a.a.createElement(O,null,"Logo_here"),a.a.createElement("div",null),a.a.createElement(x,{active:!0,name:"my coins"}),a.a.createElement(x,{name:"coin selector"}))},F=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a.Consumer,null,(function(e){return e.firstVisit?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"Here are some popular crypto currencies. You can add more to your Favorites by searching below and clicking on the ones you want."," "),a.a.createElement("div",{className:"spacer"}," ")):null})))};var k="background-color: ".concat("#061a44"),S="background-color: ".concat("darkgrey",";"),w=("background-color: ".concat("#42ff3a",";"),"box-shadow: 0px 0px 5px 1px ".concat("#121d5b")),A="box-shadow: 0px 0px 4px 2px #5fff17";function D(){var e=Object(f.a)(["\n    display: grid;\n    justify-content: center;\n"]);return D=function(){return e},e}function L(){var e=Object(f.a)(["\n  margin: 20px;\n  color: ","\n  "," \n  padding: 5px;\n  cursor: pointer; \n  &:hover {\n    "," \n  }\n"]);return L=function(){return e},e}var B=m.b.div(L(),"#42ff3a","font-size: 1.5em;",A),I=m.b.div(D()),H=function(){return a.a.createElement(d.a.Consumer,null,(function(e){var t=e.confirmFavorites;return a.a.createElement(I,null,a.a.createElement(B,{onClick:t},"Confirm Your Coin Selection"))}))},P=function(e){var t=e.name,n=e.children;return a.a.createElement(d.a.Consumer,null,(function(e){return e.page!==t?null:a.a.createElement("div",null," ",n," ")}))};function N(){var e=Object(f.a)(["\n\tpointer-events: none;\n  opacity: 0.4;\n"]);return N=function(){return e},e}function T(){var e=Object(f.a)(["\n\t&:hover{\n\t\tcursor: pointer; \n\t\t","\n\t}\n"]);return T=function(){return e},e}function z(){var e=Object(f.a)(["\n    &:hover {\n    cursor: pointer; \n    ","\n}\n"]);return z=function(){return e},e}function U(){var e=Object(f.a)(["\n    ","\n    ","\n    padding: 10px;   \n"]);return U=function(){return e},e}var V=m.b.div(U(),w,k),K=Object(m.b)(V)(z(),A),J=Object(m.b)(K)(T(),"box-shadow: 0px 0px 2px 2px #e41111"),R=Object(m.b)(V)(N());function G(){var e=Object(f.a)(["\n    justify-self: right;\n    display: none; \n    ",":hover & {\n    display: block;\n    color: red;\n    }\n"]);return G=function(){return e},e}function M(){var e=Object(f.a)(["\n    justify-self: right;\n    ","\n"]);return M=function(){return e},e}function W(){var e=Object(f.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n"]);return W=function(){return e},e}var X=m.b.div(W()),$=m.b.div(M(),"font-size: .75em"),Y=m.b.div(G(),J),_=function(e){var t=e.name,n=e.symbol,r=e.topSection;return a.a.createElement(X,null,a.a.createElement("div",null," ",t," "),r?a.a.createElement(Y,null," X "):a.a.createElement($,null," ",n," "))};function q(){var e=Object(f.a)(["\n    height: 200px; \n    margin: auto; \n    display: block; \n  "]);return q=function(){return e},e}function Q(){var e=Object(f.a)(["\n  height: 50px; \n  ","\n"]);return Q=function(){return e},e}var Z=m.b.img(Q(),(function(e){return e.spotlight&&Object(m.a)(q())})),ee=function(e){var t=e.coin,n=e.spotlight;return a.a.createElement(Z,{spotlight:n,alt:t.CoinSymbol,src:"http://cryptocompare.com/".concat(t.ImageUrl)})};function te(e,t,n,r){return e?function(){r(t)}:function(){n(t)}}var ne=function(e){var t=e.coinKey,n=e.topSection;return a.a.createElement(d.a.Consumer,null,(function(e){var r=e.coinList,o=e.addCoin,i=e.removeCoin,c=e.isInFavorites,l=r[t],u=K;return n?u=J:c(t)&&(u=R),a.a.createElement(u,{onClick:te(n,t,o,i)},a.a.createElement(_,{topSection:n,name:l.CoinName,symbol:l.Symbol}),a.a.createElement(ee,{coin:l}))}))};function re(){var e=Object(f.a)(["\n  display: grid;   \n  grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));\n  grid-gap: 15px; \n  margin-top: 40px; \n"]);return re=function(){return e},e}var ae=m.b.div(re());function oe(e,t,n,r){return t?n:function(e,t){return t&&Object.keys(t)||Object.keys(e).slice(0,250)}(e,r)}var ie=function(e){var t=e.topSection;return a.a.createElement(d.a.Consumer,null,(function(e){var n=e.coinList,r=e.favorites,o=e.filteredCoins;return a.a.createElement(ae,null,oe(n,t,r,o).map((function(e){return a.a.createElement(ne,{key:e,topSection:t,coinKey:e})})))}))},ce=n(5),le=n.n(ce),ue=n(25),se=n.n(ue);function fe(){var e=Object(f.a)(["\n    \n    ","\n    border: 1px solid; \n    height: 25px; \n    color: black;\n    place-self: center left; \n"]);return fe=function(){return e},e}function me(){var e=Object(f.a)(["\n    display: grid; \n    grid-template-columns: 200px 1fr; \n"]);return me=function(){return e},e}var ve=m.b.div(me()),pe=m.b.input(fe(),"font-size: 1.0em");function de(e,t,n){var r=e.target.value;r?be(r,n,t):t(null)}var be=le.a.debounce((function(e,t,n){var r=Object.keys(t),a=r.map((function(e){return t[e].CoinName})),o=r.concat(a),i=se.a.filter(e,o,{}).map((function(e){return e.string}));n(le.a.pickBy(t,(function(e,t){var n=e.CoinName;return le.a.includes(i,t)||le.a.includes(i,n)})))}),500),ge=function(){return a.a.createElement(d.a.Consumer,null,(function(e){var t=e.setFilteredCoins,n=e.coinList;return a.a.createElement(ve,{onKeyUp:function(e){return de(e,t,n)}},"Search all coins",a.a.createElement(pe,{onKeyUp:function(e){return de(e,t,n)}}))}))},Ee=function(){return a.a.createElement("div",null,"FAVORITES")},he=function(){return a.a.createElement(P,{name:"coin selector"},a.a.createElement(F,null),a.a.createElement(Ee,null),a.a.createElement(ie,{topSection:!0}),a.a.createElement(H,null),a.a.createElement(ge,null),a.a.createElement(ie,null))},Ce=function(e){return a.a.createElement(d.a.Consumer,null,(function(t){var n=t.coinList,r=t.prices,o=t.firstVisit;return n?o||r?a.a.createElement("div",null," ",e.children," "):a.a.createElement("div",null," Loading Prices "):a.a.createElement("div",null," Loading Coins ")}))};function ye(){var e=Object(f.a)(["\n        ","\n        pointer-events: none; \n    "]);return ye=function(){return e},e}function Oe(){var e=Object(f.a)(["\n        display: grid; \n        ","\n        grid-gap: 5px; \n        grid-template-columns: repeat(3, 1fr); \n        justify-items: right; \n    "]);return Oe=function(){return e},e}function xe(){var e=Object(f.a)(["\n    ","\n    \n    ","\n"]);return xe=function(){return e},e}function je(){var e=Object(f.a)(["\n        color: red; \n    "]);return je=function(){return e},e}function Fe(){var e=Object(f.a)(["\n    color: green; \n    ","\n"]);return Fe=function(){return e},e}function ke(){var e=Object(f.a)(["\n    ",";\n"]);return ke=function(){return e},e}function Se(){var e=Object(f.a)(["\n    justify-self: left; \n"]);return Se=function(){return e},e}function we(){var e=Object(f.a)(["\n    justify-self: right; \n"]);return we=function(){return e},e}var Ae=m.b.div(we()),De=m.b.div(Se()),Le=m.b.div(ke(),"font-size: 2em"),Be=m.b.div(Fe(),(function(e){return e.red&&Object(m.a)(je())})),Ie=function(e){return+(e+"").slice(0,6)},He=Object(m.b)(K)(xe(),(function(e){return e.compact&&Object(m.a)(Oe(),"font-size: .75em")}),(function(e){return e.currentFavorite&&Object(m.a)(ye(),A)}));function Pe(e){var t=e.data;return a.a.createElement(Ae,null,a.a.createElement(Be,{red:t.CHANGEPCT24HOUR<0},Ie(t.CHANGEPCT24HOUR),"%"))}function Ne(e){var t=e.sym,n=e.data,r=e.currentFavorite,o=e.setCurrentFavorite;return a.a.createElement(He,{currentFavorite:r,onClick:o},a.a.createElement(X,null,a.a.createElement(a.a.Fragment,null," ",t," "),a.a.createElement(Pe,{data:n})),a.a.createElement(Le,null,"$",Ie(n.PRICE)))}function Te(e){var t=e.sym,n=e.data,r=e.currentFavorite,o=e.setCurrentFavorite;return a.a.createElement(He,{onClick:o,compact:!0,currentFavorite:r},a.a.createElement(De,null," ",t," "),a.a.createElement(Pe,{data:n}),a.a.createElement(a.a.Fragment,null,"$",Ie(n.PRICE)))}var ze=function(e){var t=e.price,n=e.index,r=Object.keys(t)[0],o=t[r].USD,i=n<5?Ne:Te;return a.a.createElement(d.a.Consumer,null,(function(e){var t=e.currentFavorite,n=e.setCurrentFavorite;return a.a.createElement(i,{sym:r,data:o,currentFavorite:t===r,setCurrentFavorite:function(){return n(r)}})}))};function Ue(){var e=Object(f.a)(["\n    display: grid; \n    grid-template-columns: repeat(5, 1fr); \n    grid-gap: 15px; \n    margin-top: 40px; \n"]);return Ue=function(){return e},e}var Ve=m.b.div(Ue()),Ke=function(){return a.a.createElement(d.a.Consumer,null,(function(e){var t=e.prices;return a.a.createElement(Ve,null,t.map((function(e,t){return a.a.createElement(ze,{key:"priceTile-".concat(t),index:t,price:e})})))}))};function Je(){var e=Object(f.a)(["\n    text-align: center; \n"]);return Je=function(){return e},e}var Re=m.b.h2(Je()),Ge=function(){return a.a.createElement(d.a.Consumer,null,(function(e){var t=e.currentFavorite,n=e.coinList;return a.a.createElement(V,null,a.a.createElement(Re,null," ",n[t].CoinName," "),a.a.createElement(ee,{spotlight:!0,coin:n[t]}))}))},Me=function(e){return{title:{text:"Coin Price"},yAxis:{title:{text:"Price"}},xAxis:{type:"datetime"},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:e,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}},We=n(16),Xe=n.n(We);function $e(){var e=Object(f.a)(["\n    ","\n    ","\n    color: white; \n    border: 1px solid;\n    float: right; \n"]);return $e=function(){return e},e}var Ye=m.b.select($e(),S,"font-size: 1.0em");Xe.a.Highcharts.setOptions({colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#2a2a2b"],[1,"#3e3e40"]]},style:{fontFamily:"'Unica One', sans-serif"},plotBorderColor:"#606063"},title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{enabled:!1},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}});var _e=function(){return a.a.createElement(d.a.Consumer,null,(function(e){var t=e.historical,n=e.toggleChart;return a.a.createElement(V,null,a.a.createElement(Ye,{defaultValue:"months",onChange:function(e){return n(e.target.value)}},a.a.createElement("option",{value:"days"},"Days"),a.a.createElement("option",{value:"weeks"},"Weeks"),a.a.createElement("option",{value:"months"},"Months")),t?a.a.createElement(Xe.a,{config:Me(t)}):a.a.createElement("div",null," Loading Historical Data "))}))};function qe(){var e=Object(f.a)(["\n    display: grid; \n    margin-top: 20px; \n    grid-gap: 15px; \n    grid-template-columns: 1fr 3fr; \n"]);return qe=function(){return e},e}var Qe=m.b.div(qe()),Ze=function(){return a.a.createElement(P,{name:"my coins"},a.a.createElement(Ke,null),a.a.createElement(Qe,null,a.a.createElement(Ge,null),a.a.createElement(_e,null)))},et=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement(p,null,a.a.createElement(d.b,null,a.a.createElement(j,null),a.a.createElement(Ce,null,a.a.createElement(he,null),a.a.createElement(Ze,null))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.ae278cfb.chunk.js.map